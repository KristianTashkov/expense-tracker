<div class="text-center">
  <ul class="pagination">
    <li <%= shown_results.first_page? ? "class='disabled'" : "" %>>
      <%
        if shown_results.first_page?
          link = "javascript:;"
        else
          link = add_parameter_to_link("#{base_url}?#{request.query_string}",
                                       "page",
                                       shown_results.current_page - 1)
        end
      %>
      <%= to_link link, "&laquo;" %>
    </li>
    <% 1.upto(shown_results.page_count).each do |page| %>
      <li <%= shown_results.current_page == page ? "class='active'" : "" %>>
        <%= to_link add_parameter_to_link("#{base_url}?#{request.query_string}",
                                          "page",
                                          page), page %>
      </li>
    <% end %>
    <li <%= shown_results.last_page? ? "class='disabled'" : "" %>>
      <%
        if shown_results.last_page?
          link = "javascript:;" 
        else
          link = add_parameter_to_link("#{base_url}?#{request.query_string}",
                                        "page",
                                        shown_results.current_page + 1)
        end
      %>
      <%= to_link link, "&raquo;" %>
    </li>
  </ul>
</div>